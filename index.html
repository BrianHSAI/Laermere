<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lærmere.nu - Din vej til sjov læring!</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Legende farver baseret på logoet og suppleret med venlige nuancer */
        :root {
            --primary-blue: #5DADE2;
            --primary-green: #82E0AA;
            --primary-orange: #F5B041;
            --dark-teal: #1ABC9C;
            --text-color: #2C3E50;
            --background-color: #EBF5FB;
            --sidebar-bg: #D6EAF8;
            --menu-link-hover: #A9CCE3;
            --box-shadow-color: rgba(44, 62, 80, 0.2);
            --cookie-banner-bg: #2C3E50;
            --cookie-banner-text: #ECF0F1;
            --cookie-button-bg: #1ABC9C;
            --cookie-button-hover: #16A085;
        }

        body {
            font-family: 'Nunito', sans-serif;
            margin: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            padding-bottom: 60px;
        }

        .container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .content-area {
            display: flex;
            flex-grow: 1;
        }

        .sidebar {
            width: 280px;
            background-color: var(--sidebar-bg);
            padding: 20px;
            box-shadow: 2px 0 10px var(--box-shadow-color);
            flex-shrink: 0;
            position: relative;
        }

        .sidebar::after {
            content: '';
            display: block;
            width: 80%;
            height: 6px;
            background: linear-gradient(to right, var(--primary-orange), var(--primary-green), var(--primary-blue));
            margin: 20px auto 0 auto;
            border-radius: 3px;
        }

        .sidebar nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar nav ul li {
            margin-bottom: 12px;
        }

        .sidebar nav ul li a {
            text-decoration: none;
            color: var(--dark-teal);
            font-weight: 700;
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-radius: 8px;
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 2px 5px var(--box-shadow-color);
        }

        .sidebar nav ul li a i {
            margin-right: 10px;
            color: var(--primary-orange);
            font-size: 1.3em;
            transition: transform 0.3s ease;
        }

        .sidebar nav ul li a:hover i {
            transform: scale(1.2) rotate(5deg);
            color: var(--primary-blue);
        }

        .sidebar nav ul li a:hover {
            background-color: var(--menu-link-hover);
            color: var(--primary-blue);
            transform: translateX(5px);
            box-shadow: 0 4px 8px var(--box-shadow-color);
        }

        .main-content {
            flex-grow: 1;
            padding: 20px;
            background-color: #fff;
            margin: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px var(--box-shadow-color);
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px dashed var(--primary-green);
        }

        .logo {
            max-width: 350px;
            height: auto;
            display: block;
            margin: 0 auto 20px auto;
        }

        h1 {
            color: var(--primary-blue);
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px var(--primary-orange);
        }

        h2 {
            color: var(--dark-teal);
            font-size: 1.8em;
            border-bottom: 2px solid var(--primary-orange);
            display: inline-block;
            padding-bottom: 5px;
            margin-bottom: 20px;
        }

        p {
            font-size: 1.1em;
            color: var(--text-color);
        }

        footer {
            text-align: center;
            padding: 20px;
            background-color: var(--dark-teal);
            color: white;
            width: 100%;
            box-sizing: border-box;
            flex-shrink: 0;
        }

        footer p {
            color: white;
            margin: 0;
        }

        .cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: var(--cookie-banner-bg);
            color: var(--cookie-banner-text);
            padding: 15px 20px;
            text-align: center;
            font-size: 0.9em;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }

        .cookie-banner p {
            margin: 0 20px 0 0;
            color: var(--cookie-banner-text);
        }

        .cookie-banner button {
            background-color: var(--cookie-button-bg);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.3s ease;
            margin-top: 5px;
        }

        .cookie-banner button:hover {
            background-color: var(--cookie-button-hover);
        }

        .todays-info-section {
            margin-bottom: 40px;
        }

        .info-box {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 3px 10px var(--box-shadow-color);
            padding: 15px;
            margin-bottom: 20px;
            min-height: 120px;
            border-left: 5px solid var(--primary-blue);
        }

        #todayCalendar {
            border-left-color: var(--primary-green);
        }

        .info-box h3 {
            color: var(--dark-teal);
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .info-item {
            display: flex;
            align-items: flex-start;
            padding: 8px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .info-item:last-child {
            border-bottom: none;
        }

        .info-item i {
            color: var(--primary-orange);
            margin-right: 10px;
            margin-top: 3px;
            width: 20px;
            text-align: center;
        }

        #todayCalendar .info-item i {
            color: var(--primary-green);
        }

        .info-item .calendar-details {
            flex-grow: 1;
        }

        .info-item .subject {
            font-weight: bold;
            color: var(--dark-teal);
        }

        .info-item .description {
            font-size: 0.9em;
            margin-top: 3px;
        }

        .info-item .date {
            font-size: 0.8em;
            color: #777;
        }

        .no-data-message {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100px;
            color: #999;
            text-align: center;
        }

        .no-data-message i {
            font-size: 2em;
            margin-bottom: 10px;
            color: var(--primary-blue);
        }

        #todayCalendar .no-data-message i {
            color: var(--primary-green);
        }

        /* Nye styles til ugeoversigt */
        .day-header {
            color: var(--dark-teal);
            font-size: 1.1em;
            margin: 15px 0 5px 0;
            padding-bottom: 3px;
            border-bottom: 1px dashed var(--primary-green);
        }

        .week-header {
            color: var(--primary-blue);
            font-size: 1.3em;
            margin-bottom: 15px;
            text-align: center;
        }

        @media (max-width: 600px) {
            .cookie-banner {
                flex-direction: column;
            }

            .cookie-banner p {
                margin: 0 0 10px 0;
            }

            .sidebar {
                width: 100%;
                height: auto;
                padding: 10px;
                box-shadow: 0 2px 10px var(--box-shadow-color);
            }

            .sidebar nav ul {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }

            .sidebar nav ul li {
                margin: 5px 10px;
            }

            .sidebar nav ul li a {
                padding: 8px 10px;
                font-size: 0.9em;
                flex-direction: column;
                align-items: center;
            }

            .sidebar nav ul li a i {
                margin: 0 0 5px 0;
            }

            .main-content {
                margin: 10px;
            }

            .logo {
                max-width: 250px;
            }

            h1 {
                font-size: 1.8em;
            }

            h2 {
                font-size: 1.4em;
            }

            footer {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="content-area">
            <aside class="sidebar">
                <nav>
                    <ul>
                        <li><a href="Oplæser.html"><i class="fas fa-volume-up"></i> Tekst til tale</a></li>
                        <li><a href="Tale-til-tekst.html"><i class="fas fa-microphone"></i> Tale til tekst</a></li>
                        <li><a href="Matematik.html"><i class="fas fa-calculator"></i> Formelsamling</a></li>
                        <li><a href="Grammatik-landing.html"><i class="fas fa-spell-check"></i> Grammatikhjælp</a></li>
                        <li><a href="Læsetræner.html"><i class="fas fa-book-reader"></i> Læsetræning</a></li>
                        <li><a href="Læseplanlægger.html"><i class="fas fa-calendar-alt"></i> Læseplanlægning</a></li>
                        <li><a href="Elevkalender.html"><i class="fas fa-calendar-check"></i> Elevkalender</a></li>
                        <li><a href="Lektiekalender.html"><i class="fas fa-clipboard-list"></i> Lektiekalender</a></li>
                        <li><a href="Opgaveplanlægger.html"><i class="fas fa-tasks"></i> Opgaveplanlægger</a></li>
                        <li><a href="Pomodoro.html"><i class="fas fa-clock"></i> Fokushjælper</a></li>
                    </ul>
                </nav>
            </aside>
            <main class="main-content">
                <header>
                    <img src="LærMere.Nu-logo.png" alt="Lærmere.nu Logo" class="logo">
                    <h1>Velkommen til Lærmere.nu</h1>
                    <p>Din platform for at forbedre dine læringsfærdigheder og organisere din studiehverdag.</p>
                </header>

                <section class="todays-info-section">
                    <h2>Dagens aktiviteter</h2>
                    <div class="info-box" id="todayCalendar">
                        <div class="no-data-message">
                            <i class="fas fa-calendar-day"></i>
                            <p>Ingen aktiviteter for i dag.</p>
                        </div>
                    </div>
                </section>

                <section class="intro-text">
                    <h2>Hvad finder du på Lærmere.nu?</h2>
                    <p>Vi har samlet en række smarte værktøjer, der kan gøre din hverdag som elev sjovere og mere overskuelig. Fra at få tekst læst højt til at planlægge dine lektier – vi hjælper dig godt på vej!</p>
                    <p>Udforsk menuen til venstre for at se alle mulighederne.</p>
                </section>
            </main>
        </div>
        <footer>
            <p>© 2025 Lærmere.nu - Lær mere, leg mere!</p>
        </footer>
    </div>

    <div class="cookie-banner" id="cookieBanner">
        <p>Vi bruger cookies for at sikre, at du får den bedste oplevelse på vores side. Ved at fortsætte, accepterer du vores brug af cookies.</p>
        <button id="acceptCookies">Det er okay!</button>
    </div>

    <script>
        // Funktion til at hente den aktuelle dato
        function getCurrentDate() {
            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const day = String(today.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        // Funktion til at formatere dato til DD/MM/YYYY
        function formatDate(date) {
            const day = date.getDate().toString().padStart(2, '0');
            const month = (date.getMonth() + 1).toString().padStart(2, '0');
            const year = date.getFullYear();
            return `${day}/${month}/${year}`;
        }

        // Funktion til at vise data
        function displayItems(elementId, items, type) {
            const element = document.getElementById(elementId);
            if (!element) return;

            const noDataIcon = element.querySelector('.no-data-message i')?.className ||
'fas fa-question-circle';
            const noDataText = element.querySelector('.no-data-message p')?.textContent ||
'Ingen data fundet.';
            if (items && items.length > 0) {
                element.innerHTML = '';
                items.forEach(item => {
                    let detailsHtml = '';
                    let iconClass = 'fas fa-info-circle';

                    if (type === 'calendar') {
                        iconClass = 'fas fa-calendar-day';
                        detailsHtml = `
                            <div class="calendar-details">
                                <div class="subject">${item.title || 'Ukendt titel'}</div>
                                ${item.description ? `<div class="description">${item.description}</div>` : ''}
                                ${item.time ? `<div class="date">${item.time}</div>` : ''}
                            </div>`;
                    }

                    element.innerHTML += `
                        <div class="info-item">
                            <i class="${iconClass}"></i>
                            ${detailsHtml}
                        </div>`;
                });
            } else {
                element.innerHTML = `
                    <div class="no-data-message">
                        <i class="${noDataIcon}"></i>
                        <p>${noDataText}</p>
                    </div>`;
            }
        }

        // Hovedfunktion når DOM er indlæst
        document.addEventListener('DOMContentLoaded', function() {
            // Hent kalenderdata
            let calendarItems = [];
            try {
                const calendarData = localStorage.getItem('elevkalenderActivities');
                if (calendarData) {
                    calendarItems = JSON.parse(calendarData);
                }
            } catch (e) {
                console.error('Fejl ved indlæsning af kalender:', e);
            }

            // Find aktuel dato
            const today = new Date();
            const currentDate = getCurrentDate();

            // Filtrer aktiviteter for i dag
            const todaysActivities = calendarItems.filter(item => {
                if (!item.date) return false;

                try {
                    // Prøv at parse datoen i forskellige formater
                    let dateObj;
                    if (item.date.includes('/')) {
                        const parts = item.date.split('/');
                        if (parts[0].length === 4) { // YYYY/MM/DD format
                            dateObj = new Date(parts[0], parts[1] - 1, parts[2]);
                        } else { // DD/MM/YYYY format
                            dateObj = new Date(parts[2], parts[1] - 1, parts[0]);
                        }
                    } else {
                        // Prøv at parse som ISO-dato
                        dateObj = new Date(item.date);
                    }

                    if (isNaN(dateObj.getTime())) return false;
                    return formatDate(dateObj) === formatDate(today);
                } catch (e) {
                    console.error('Fejl ved parsing af dato:', item.date, e);
                    return false;
                }
            });
            // Sorter aktiviteter efter tid
            todaysActivities.sort((a, b) => {
                if (a.time && b.time) {
                    return a.time.localeCompare(b.time);
                }
                return 0;
            });
            // Vis dagens aktiviteter
            const todayElement = document.getElementById('todayCalendar');
            if (todaysActivities.length > 0) {
                todayElement.innerHTML = '';
                // Tilføj dagsoverskrift
                const dayHeader = document.createElement('h3');
                dayHeader.className = 'day-header';
                dayHeader.textContent = `Aktiviteter for ${formatDate(today)}`;
                todayElement.appendChild(dayHeader);

                // Tilføj aktiviteter
                todaysActivities.forEach(activity => {
                    const activityElement = document.createElement('div');
                    activityElement.className = 'info-item';
                    activityElement.innerHTML = `
                        <i class="fas fa-calendar-day"></i>
                        <div class="calendar-details">
                            <div class="subject">${activity.title || 'Ukendt titel'}</div>
                            ${activity.description ? `<div class="description">${activity.description}</div>` : ''}
                            ${activity.time ? `<div class="date">${activity.time}</div>` : ''}
                        </div>
                    `;
                    todayElement.appendChild(activityElement);
                });
            }
        });
        // Cookie banner funktionalitet
        const cookieBanner = document.getElementById('cookieBanner');
        const acceptButton = document.getElementById('acceptCookies');
        const cookieAccepted = localStorage.getItem('cookieAccepted');

        if (!cookieAccepted) {
            cookieBanner.style.display = 'flex';
        }

        acceptButton.addEventListener('click', () => {
            localStorage.setItem('cookieAccepted', 'true');
            cookieBanner.style.display = 'none';
        });
    </script>
</body>
</html>
